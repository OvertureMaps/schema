{
  "$defs": {
    "BoundaryClass": {
      "enum": [
        "land",
        "maritime"
      ],
      "title": "BoundaryClass",
      "type": "string"
    },
    "PerspectiveMode": {
      "description": "Perspective mode for disputed names.",
      "enum": [
        "accepted_by",
        "disputed_by"
      ],
      "title": "PerspectiveMode",
      "type": "string"
    },
    "Perspectives": {
      "additionalProperties": false,
      "description": "Political perspectives container.",
      "properties": {
        "countries": {
          "description": "Countries holding the given mode of perspective.",
          "items": {
            "description": "ISO 3166-1 alpha-2 country code",
            "maxLength": 2,
            "minLength": 2,
            "pattern": "^[A-Z]{2}$",
            "type": "string"
          },
          "minItems": 1,
          "title": "Countries",
          "type": "array",
          "uniqueItems": true
        },
        "mode": {
          "$ref": "#/$defs/PerspectiveMode",
          "description": "Whether the perspective holder accepts or disputes this name."
        }
      },
      "required": [
        "mode",
        "countries"
      ],
      "title": "Perspectives",
      "type": "object"
    },
    "PlaceType": {
      "description": "Category of the division from a finite, hierarchical, ordered list of categories (e.g. country, region, locality, etc.) similar to a Who's on First placetype.",
      "enum": [
        "country",
        "dependency",
        "macroregion",
        "region",
        "macrocounty",
        "county",
        "localadmin",
        "locality",
        "borough",
        "macrohood",
        "neighborhood",
        "microhood"
      ],
      "title": "PlaceType",
      "type": "string"
    },
    "SourcePropertyItem": {
      "additionalProperties": false,
      "description": "An object storing the source for a specificed property. The property is a reference to the property element within this Feature, and will be referenced using JSON Pointer Notation RFC 6901 (https://datatracker.ietf.org/doc/rfc6901/). The source dataset for that referenced property will be specified in the overture list of approved sources from the Overture Data Working Group that contains the relevant metadata for that dataset including license source organization.",
      "properties": {
        "between": {
          "description": "Linear reference range [start, end] where 0.0 <= start < end <= 1.0",
          "items": {
            "maximum": 1.0,
            "minimum": 0.0,
            "type": "number"
          },
          "maxItems": 2,
          "minItems": 2,
          "title": "Between",
          "type": "array"
        },
        "confidence": {
          "description": "Confidence score between 0.0 and 1.0",
          "maximum": 1.0,
          "minimum": 0.0,
          "title": "Confidence",
          "type": "number"
        },
        "dataset": {
          "title": "Dataset",
          "type": "string"
        },
        "property": {
          "description": "JSON Pointer (RFC 6901)",
          "title": "Property",
          "type": "string"
        },
        "record_id": {
          "description": "Refers to the specific record within the dataset that was used.",
          "title": "Record Id",
          "type": "string"
        },
        "update_time": {
          "description": "ISO 8601 datetime",
          "format": "date-time",
          "pattern": "^([1-9]\\d{3})-(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01])T([01]\\d|2[0-3]):([0-5]\\d):([0-5]\\d|60)(\\.\\d{1,3})?(Z|[-+]([01]\\d|2[0-3]):[0-5]\\d)$",
          "title": "Update Time",
          "type": "string"
        }
      },
      "required": [
        "property",
        "dataset"
      ],
      "title": "SourcePropertyItem",
      "type": "object"
    }
  },
  "additionalProperties": false,
  "description": "Boundaries represent borders between divisions of the same subtype. Some boundaries may be disputed by the divisions on one or both sides.",
  "patternProperties": {
    "^ext_.*$": {
      "description": "Additional top-level properties must be prefixed with `ext_`."
    }
  },
  "properties": {
    "geometry": {
      "description": "Boundary's geometry which MUST be a LineString or MultiLineString as defined by the GeoJSON schema.",
      "oneOf": [
        {
          "properties": {
            "bbox": {
              "items": {
                "type": "number"
              },
              "minItems": 4,
              "type": "array"
            },
            "coordinates": {
              "items": {
                "items": {
                  "type": "number"
                },
                "minItems": 2,
                "type": "array"
              },
              "minItems": 2,
              "type": "array"
            },
            "type": {
              "const": "LineString",
              "type": "string"
            }
          },
          "required": [
            "type",
            "coordinates"
          ],
          "type": "object"
        },
        {
          "properties": {
            "bbox": {
              "items": {
                "type": "number"
              },
              "minItems": 4,
              "type": "array"
            },
            "coordinates": {
              "items": {
                "items": {
                  "items": {
                    "type": "number"
                  },
                  "minItems": 2,
                  "type": "array"
                },
                "minItems": 2,
                "type": "array"
              },
              "minItems": 1,
              "type": "array"
            },
            "type": {
              "const": "MultiLineString",
              "type": "string"
            }
          },
          "required": [
            "type",
            "coordinates"
          ],
          "type": "object"
        }
      ],
      "title": "Geometry"
    },
    "id": {
      "description": "A feature ID. This may be an ID associated with the Global Entity Reference System (GERS) if\u2014and-only-if the feature represents an entity that is part of GERS.",
      "minLength": 1,
      "pattern": "^\\S+$",
      "title": "Id",
      "type": "string"
    },
    "properties": {
      "additionalProperties": false,
      "allOf": [
        {
          "if": {
            "properties": {
              "subtype": {
                "not": {
                  "const": "country"
                }
              }
            }
          },
          "then": {
            "required": [
              "country"
            ]
          }
        }
      ],
      "oneOf": [
        {
          "properties": {
            "is_land": {
              "const": true
            }
          }
        },
        {
          "properties": {
            "is_territorial": {
              "const": true
            }
          }
        }
      ],
      "patternProperties": {
        "^ext_.*$": {
          "description": "Additional top-level properties must be prefixed with `ext_`."
        }
      },
      "properties": {
        "class": {
          "$ref": "#/$defs/BoundaryClass"
        },
        "country": {
          "description": "ISO 3166-1 alpha-2 country code of the country or country-like\nentity that both sides of the boundary share.\n\nThis property will be present on boundaries between two regions, counties,\nor similar entities within the same country, but will not be present on boundaries\nbetween two countries or country-like entities.",
          "maxLength": 2,
          "minLength": 2,
          "pattern": "^[A-Z]{2}$",
          "title": "Country",
          "type": "string"
        },
        "division_ids": {
          "description": "Identifies the two divisions to the left and right, respectively, of the boundary line. The left- and right-hand sides of the boundary are considered from the perspective of a person standing on the line facing in the direction in which the geometry is oriented, i.e. facing toward the end of the line.\n\nThe first array element is the Overture ID of the left division. The second element is the Overture ID of the right division.",
          "items": {
            "description": "String without whitespace characters",
            "minLength": 1,
            "pattern": "^\\S+$",
            "type": "string"
          },
          "maxItems": 2,
          "minItems": 2,
          "title": "Division Ids",
          "type": "array",
          "uniqueItems": true
        },
        "is_disputed": {
          "description": "Indicator if there are entities disputing this division boundary.\nInformation about entities disputing this boundary should be included in perspectives\nproperty.\n\nThis property should also be true if boundary between two entities is unclear\nand this is \"best guess\". So having it true and no perspectives gives map creators\nreason not to fully trust the boundary, but use it if they have no other.",
          "title": "Is Disputed",
          "type": "boolean"
        },
        "is_land": {
          "description": "A boolean to indicate whether or not the feature geometry represents the\nland-clipped, non-maritime boundary. The geometry can be used for map\nrendering, cartographic display, and similar purposes.",
          "title": "Is Land",
          "type": "boolean"
        },
        "is_territorial": {
          "description": "A boolean to indicate whether or not the feature geometry represents\nOverture's best approximation of this place's maritime boundary. For\ncoastal places, this would tend to include the water area. The geometry\ncan be used for data processing, reverse-geocoding, and similar purposes.",
          "title": "Is Territorial",
          "type": "boolean"
        },
        "perspectives": {
          "$ref": "#/$defs/Perspectives",
          "description": "Political perspectives from which this division boundary is considered to be an accurate representation.\n\nIf this property is absent, then this boundary is not known to be disputed from any political perspective. Consequently, there is only one boundary feature representing the entire real world entity.\n\nIf this property is present, it means the boundary represents one of several alternative perspectives on the same real-world entity.\n\nThere are two modes of perspective:\n\n  1. `accepted_by` means the representation of the boundary is accepted by the listed entities and would be included on a map drawn from their perspective.\n\n  2. `disputed_by` means the representation of the boundary is disputed by the listed entities and would be excluded from a map drawn from their perspective.\n\nWhen drawing a map from the perspective of a given country, one would start by gathering all the undisputed boundary (with no `perspectives` property), and then adding to that first all boundary explicitly accepted by the country, and second all boundary not explicitly disputed by the country."
        },
        "region": {
          "description": "ISO 3166-2 principal subdivision code of the subdivision-like\nentity that both sides of the boundary share.\n\nThis property will be present on boundaries between two counties, localadmins\nor similar entities within the same principal subdivision, but will not be\npresent on boundaries between different principal subdivisions or countries.",
          "maxLength": 6,
          "minLength": 4,
          "pattern": "^[A-Z]{2}-[A-Z0-9]{1,3}$",
          "title": "Region",
          "type": "string"
        },
        "sources": {
          "description": "The array of source information for the properties of a given feature, with each entry being a source object which lists the property in JSON Pointer notation and the dataset approved sources from the Overture Data Working Group that contains the relevant metadata for that dataset including license source organization.",
          "items": {
            "$ref": "#/$defs/SourcePropertyItem"
          },
          "minItems": 1,
          "title": "Sources",
          "type": "array",
          "uniqueItems": true
        },
        "subtype": {
          "$ref": "#/$defs/PlaceType"
        },
        "theme": {
          "const": "divisions",
          "title": "Theme",
          "type": "string"
        },
        "type": {
          "const": "division_boundary",
          "title": "Type",
          "type": "string"
        },
        "version": {
          "description": "",
          "minimum": 0,
          "title": "Version",
          "type": "integer"
        }
      },
      "required": [
        "theme",
        "type",
        "version",
        "subtype",
        "class",
        "division_ids"
      ],
      "type": "object",
      "unevaluatedProperties": false
    },
    "type": {
      "const": "Feature",
      "type": "string"
    }
  },
  "required": [
    "id",
    "geometry",
    "properties",
    "type"
  ],
  "title": "boundary",
  "type": "object"
}