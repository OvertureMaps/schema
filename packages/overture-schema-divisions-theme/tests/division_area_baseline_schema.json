{
  "$defs": {
    "AreaClass": {
      "description": "Area and boundary class designations.",
      "enum": [
        "land",
        "maritime"
      ],
      "title": "AreaClass",
      "type": "string"
    },
    "NameRule": {
      "additionalProperties": false,
      "description": "A rule that can be evaluated to determine the name in advanced scenarios.\n\nName rules are used for cases where the primary name is not sufficient; the common name is not\nthe right fit for the use case and another variant is needed; or where the name only applies in\ncertain specific circumstances.\n\nExamples might include:\n- An official, alternate, or short name.\n- A name that only applies to part of a linear path like a road segment (geometric range\n  scoping).\n- A name that only applies to the left or right side of a linear path like a road segment (side\n  scoping).\n- A name that is only accepted by some political perspectives.",
      "properties": {
        "between": {
          "description": "The linearly-referenced sub-segment of the geometry, specified as a range (pair) of percentage displacements from the start of the geometry, that the containing NameRule applies to.",
          "items": {
            "maximum": 1.0,
            "minimum": 0.0,
            "type": "number"
          },
          "maxItems": 2,
          "minItems": 2,
          "title": "Between",
          "type": "array"
        },
        "language": {
          "description": "The language in which the name `value` is specified, if known, as an IETF BCP 47\nlanguage tag.",
          "pattern": "^(?:(?:[A-Za-z]{2,3}(?:-[A-Za-z]{3}){0,3}?)|(?:[A-Za-z]{4,8}))(?:-[A-Za-z]{4})?(?:-[A-Za-z]{2}|[0-9]{3})?(?:-(?:[A-Za-z0-9]{5,8}|[0-9][A-Za-z0-9]{3}))*(?:-[A-WY-Za-wy-z0-9](?:-[A-Za-z0-9]{2,8})+)*$",
          "title": "Language",
          "type": "string"
        },
        "perspectives": {
          "$ref": "#/$defs/Perspectives",
          "description": "Political perspectives from which a named feature is viewed."
        },
        "side": {
          "$ref": "#/$defs/Side",
          "description": "The side, either left or right, that the containing NameRule applies to."
        },
        "value": {
          "description": "The actual name value.",
          "minLength": 1,
          "pattern": "^(\\S.*)?\\S$",
          "title": "Value",
          "type": "string"
        },
        "variant": {
          "$ref": "#/$defs/NameVariant",
          "description": "The name variant for this name rule."
        }
      },
      "required": [
        "value",
        "variant"
      ],
      "title": "NameRule",
      "type": "object"
    },
    "NameVariant": {
      "description": "Name variant used in a `NameRule`.",
      "enum": [
        "common",
        "official",
        "alternate",
        "short"
      ],
      "title": "NameVariant",
      "type": "string"
    },
    "Names": {
      "additionalProperties": false,
      "description": "Multilingual names container.",
      "properties": {
        "common": {
          "additionalProperties": false,
          "patternProperties": {
            "^(?:(?:[A-Za-z]{2,3}(?:-[A-Za-z]{3}){0,3}?)|(?:[A-Za-z]{4,8}))(?:-[A-Za-z]{4})?(?:-[A-Za-z]{2}|[0-9]{3})?(?:-(?:[A-Za-z0-9]{5,8}|[0-9][A-Za-z0-9]{3}))*(?:-[A-WY-Za-wy-z0-9](?:-[A-Za-z0-9]{2,8})+)*$": {
              "description": "String with no leading/trailing whitespace",
              "pattern": "^(\\S.*)?\\S$",
              "type": "string"
            }
          },
          "propertyNames": {
            "description": "IETF BCP-47 language tag"
          },
          "title": "Common",
          "type": "object"
        },
        "primary": {
          "description": "The most commonly used name.",
          "minLength": 1,
          "pattern": "^(\\S.*)?\\S$",
          "title": "Primary",
          "type": "string"
        },
        "rules": {
          "description": "Rules for names that cannot be specified in the simple common names property. These rules can cover other name variants such as official, alternate, and short; and they can optionally include geometric scoping (linear referencing) and side-of-road scoping for complex cases.",
          "items": {
            "$ref": "#/$defs/NameRule"
          },
          "title": "Rules",
          "type": "array"
        }
      },
      "required": [
        "primary"
      ],
      "title": "Names",
      "type": "object"
    },
    "PerspectiveMode": {
      "description": "Perspective mode for disputed names.",
      "enum": [
        "accepted_by",
        "disputed_by"
      ],
      "title": "PerspectiveMode",
      "type": "string"
    },
    "Perspectives": {
      "additionalProperties": false,
      "description": "Political perspectives container.",
      "properties": {
        "countries": {
          "description": "Countries holding the given mode of perspective.",
          "items": {
            "description": "ISO 3166-1 alpha-2 country code",
            "maxLength": 2,
            "minLength": 2,
            "pattern": "^[A-Z]{2}$",
            "type": "string"
          },
          "minItems": 1,
          "title": "Countries",
          "type": "array",
          "uniqueItems": true
        },
        "mode": {
          "$ref": "#/$defs/PerspectiveMode",
          "description": "Whether the perspective holder accepts or disputes this name."
        }
      },
      "required": [
        "mode",
        "countries"
      ],
      "title": "Perspectives",
      "type": "object"
    },
    "PlaceType": {
      "description": "Category of the division from a finite, hierarchical, ordered list of categories (e.g., country,\nregion, locality, etc.) similar to a Who's on First placetype.",
      "enum": [
        "country",
        "dependency",
        "macroregion",
        "region",
        "macrocounty",
        "county",
        "localadmin",
        "locality",
        "borough",
        "macrohood",
        "neighborhood",
        "microhood"
      ],
      "title": "PlaceType",
      "type": "string"
    },
    "Side": {
      "description": "The side, left or right, on which something appears relative to a facing or heading direction\n(*e.g.*, the side of a road relative to the road orientation), or relative to the direction of\ntravel of a person or vehicle.",
      "enum": [
        "left",
        "right"
      ],
      "title": "Side",
      "type": "string"
    },
    "SourceItem": {
      "additionalProperties": false,
      "description": "Specifies the source of the data used for a feature or one of its properties.",
      "properties": {
        "between": {
          "description": "The linearly-referenced sub-segment of the geometry, specified as a range (pair) of percentage displacements from the start of the geometry, that the containing SourceItem applies to.",
          "items": {
            "maximum": 1.0,
            "minimum": 0.0,
            "type": "number"
          },
          "maxItems": 2,
          "minItems": 2,
          "title": "Between",
          "type": "array"
        },
        "confidence": {
          "description": "Confidence value from the source dataset.\n\nThis is a value between 0.0 and 1.0 and is particularly relevant for ML-derived data.",
          "maximum": 1.0,
          "minimum": 0.0,
          "title": "Confidence",
          "type": "number"
        },
        "dataset": {
          "description": "Name of the dataset where the source data can be found.",
          "title": "Dataset",
          "type": "string"
        },
        "license": {
          "description": "Source data license name.\n\nThis should be a valid SPDX license identifier when available.\n\nIf omitted, contact the data provider for more license information.",
          "pattern": "^(\\S.*)?\\S$",
          "title": "License",
          "type": "string"
        },
        "property": {
          "description": "A JSON Pointer identifying the property (field) that this source information applies to.\n\nThe root document value `\"\"` indicates that this source information applies to the\nentire feature, excepting properties (fields) for which a dedicated source information\nrecord exists.\n\nAny other JSON Pointer apart from `\"\"` indicates that this source record provides\ndedicated source information for the property at the path in the JSON Pointer. As an\nexample, the value `\"/names/common/en\"` indicates that the source information applies to\nthe English common name of a named feature, while the value `\"/geometry\"` indicates that\nit applies to the feature geometry.",
          "title": "Property",
          "type": "string"
        },
        "record_id": {
          "description": "Identifies the specific record within the source dataset where the source data can\nbe found.\n\nThe format of record identifiers is dataset-specific.",
          "title": "Record Id",
          "type": "string"
        },
        "update_time": {
          "description": "Last update time of the source data record.",
          "format": "date-time",
          "title": "Update Time",
          "type": "string"
        }
      },
      "required": [
        "property",
        "dataset"
      ],
      "title": "SourceItem",
      "type": "object"
    }
  },
  "additionalProperties": false,
  "description": "Division areas are polygons that represent the land or maritime area covered by a\ndivision.\n\nEach division area belongs to a division which it references by ID, and for which\nthe division area provides an area polygon. For ease of use, every division area\nrepeats the subtype, names, country, and region properties of the division it\nbelongs to.",
  "properties": {
    "bbox": {
      "description": "An optional bounding box for the feature",
      "items": {
        "type": "number"
      },
      "maxItems": 4,
      "minItems": 4,
      "title": "Bbox",
      "type": "array"
    },
    "geometry": {
      "description": "The area covered by the division with which this area feature is associated",
      "oneOf": [
        {
          "properties": {
            "bbox": {
              "items": {
                "type": "number"
              },
              "minItems": 4,
              "type": "array"
            },
            "coordinates": {
              "items": {
                "items": {
                  "items": {
                    "items": {
                      "type": "number"
                    },
                    "maxItems": 3,
                    "minItems": 2,
                    "type": "array"
                  },
                  "minItems": 4,
                  "type": "array"
                },
                "minItems": 1,
                "type": "array"
              },
              "minItems": 1,
              "type": "array"
            },
            "type": {
              "const": "MultiPolygon",
              "type": "string"
            }
          },
          "required": [
            "type",
            "coordinates"
          ],
          "type": "object"
        },
        {
          "properties": {
            "bbox": {
              "items": {
                "type": "number"
              },
              "minItems": 4,
              "type": "array"
            },
            "coordinates": {
              "items": {
                "items": {
                  "items": {
                    "type": "number"
                  },
                  "maxItems": 3,
                  "minItems": 2,
                  "type": "array"
                },
                "minItems": 4,
                "type": "array"
              },
              "minItems": 1,
              "type": "array"
            },
            "type": {
              "const": "Polygon",
              "type": "string"
            }
          },
          "required": [
            "type",
            "coordinates"
          ],
          "type": "object"
        }
      ],
      "title": "Geometry"
    },
    "id": {
      "description": "A feature ID. This may be an ID associated with the Global Entity Reference System (GERS) if\u2014and-only-if the feature represents an entity that is part of GERS.",
      "minLength": 1,
      "pattern": "^\\S+$",
      "title": "Id",
      "type": "string"
    },
    "properties": {
      "additionalProperties": false,
      "allOf": [
        {
          "if": {
            "properties": {
              "subtype": {
                "const": "county"
              }
            }
          },
          "then": {
            "required": [
              "admin_level"
            ]
          }
        },
        {
          "if": {
            "properties": {
              "subtype": {
                "const": "macrocounty"
              }
            }
          },
          "then": {
            "required": [
              "admin_level"
            ]
          }
        },
        {
          "if": {
            "properties": {
              "subtype": {
                "const": "region"
              }
            }
          },
          "then": {
            "required": [
              "admin_level"
            ]
          }
        },
        {
          "if": {
            "properties": {
              "subtype": {
                "const": "macroregion"
              }
            }
          },
          "then": {
            "required": [
              "admin_level"
            ]
          }
        },
        {
          "if": {
            "properties": {
              "subtype": {
                "const": "dependency"
              }
            }
          },
          "then": {
            "required": [
              "admin_level"
            ]
          }
        },
        {
          "if": {
            "properties": {
              "subtype": {
                "const": "country"
              }
            }
          },
          "then": {
            "required": [
              "admin_level"
            ]
          }
        }
      ],
      "not": {
        "required": [
          "id",
          "bbox",
          "geometry"
        ]
      },
      "oneOf": [
        {
          "properties": {
            "is_land": {
              "const": true
            }
          }
        },
        {
          "properties": {
            "is_territorial": {
              "const": true
            }
          }
        }
      ],
      "patternProperties": {
        "^ext_.*$": {
          "description": "Additional top-level properties are allowed if prefixed by `ext_`.\n\nThis feature is a on a deprecation path and will be removed once the schema is\nfully migrated to Pydantic."
        }
      },
      "properties": {
        "admin_level": {
          "description": "Integer representing this division's position in its country's administrative hierarchy, where lower numbers correspond to higher level administrative units.",
          "maximum": 2147483647,
          "minimum": 0,
          "title": "Admin Level",
          "type": "integer"
        },
        "class": {
          "$ref": "#/$defs/AreaClass"
        },
        "country": {
          "description": "ISO 3166-1 alpha-2 country code of the division this area belongs to.",
          "maxLength": 2,
          "minLength": 2,
          "pattern": "^[A-Z]{2}$",
          "title": "Country",
          "type": "string"
        },
        "division_id": {
          "description": "Division ID of the division this area belongs to.",
          "minLength": 1,
          "pattern": "^\\S+$",
          "title": "Division Id",
          "type": "string"
        },
        "is_land": {
          "description": "A boolean to indicate whether or not the feature geometry represents the land-clipped, non-maritime boundary. The geometry can be used for map rendering, cartographic display, and similar purposes.",
          "title": "Is Land",
          "type": "boolean"
        },
        "is_territorial": {
          "description": "A boolean to indicate whether or not the feature geometry represents Overture's best approximation of this place's maritime boundary. For coastal places, this would tend to include the water area. The geometry can be used for data processing, reverse-geocoding, and similar purposes.",
          "title": "Is Territorial",
          "type": "boolean"
        },
        "names": {
          "$ref": "#/$defs/Names"
        },
        "region": {
          "description": "ISO 3166-2 principal subdivision code of the division this area belongs to.",
          "maxLength": 6,
          "minLength": 4,
          "pattern": "^[A-Z]{2}-[A-Z0-9]{1,3}$",
          "title": "Region",
          "type": "string"
        },
        "sources": {
          "description": "Information about the source data used to assemble the feature.",
          "items": {
            "$ref": "#/$defs/SourceItem"
          },
          "minItems": 1,
          "title": "Sources",
          "type": "array",
          "uniqueItems": true
        },
        "subtype": {
          "$ref": "#/$defs/PlaceType"
        },
        "theme": {
          "const": "divisions",
          "title": "Theme",
          "type": "string"
        },
        "type": {
          "const": "division_area",
          "title": "Type",
          "type": "string"
        },
        "version": {
          "description": "",
          "maximum": 2147483647,
          "minimum": 0,
          "title": "Version",
          "type": "integer"
        }
      },
      "required": [
        "names",
        "theme",
        "type",
        "version",
        "subtype",
        "class",
        "division_id",
        "country"
      ],
      "type": "object"
    },
    "type": {
      "const": "Feature",
      "type": "string"
    }
  },
  "required": [
    "type",
    "id",
    "geometry",
    "properties"
  ],
  "title": "division_area",
  "type": "object"
}